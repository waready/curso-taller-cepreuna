import{Q as d,a as m}from"./QCard-CmeEUJqC.js";import{H as x}from"./IndexPage-Rh55wwO4.js";import{a as f}from"./index-DW_MHI2K.js";import{_ as b,F as C,N as w,P as v,H as L,O as g,K as t,I as n,L as y,r as _,o as q}from"./index-DXe5sY2n.js";import"./selection-C8a7QGYT.js";import"./QBtn-D-afTUYf.js";import"./use-dark-Cj7eRfa2.js";import"./QPage-Ccyi8lPI.js";import"./QTooltip-DNFyvCwP.js";const E=C({name:"CardCharts",components:{ECharts:x},setup(){const i=_({tooltip:{show:!0,trigger:"axis"},title:{show:!0,textStyle:{color:"rgba(0, 0, 0 , .87)",fontFamily:"sans-serif"}},grid:{containLabel:!0,left:"0",bottom:"0",right:"0"},xAxis:{show:!1,type:"category",boundaryGap:!1},yAxis:{show:!1,type:"value",splitLine:{lineStyle:{type:"dashed"}}},series:[{type:"line",areaStyle:{},smooth:!0}],dataset:{source:[]},color:["#2196f3"]}),s=_({tooltip:{show:!0,trigger:"axis"},title:{show:!0,textStyle:{color:"rgba(0, 0, 0 , .87)",fontFamily:"sans-serif"}},grid:{containLabel:!0,left:"0",bottom:"0",right:"0"},xAxis:{show:!1,type:"category",boundaryGap:!1},yAxis:{show:!1,type:"value",splitLine:{lineStyle:{type:"dashed"}}},series:[{type:"line",areaStyle:{},smooth:!1}],dataset:{source:[]},color:["#45c2c5"]}),u=async()=>{try{const r=(await f.get("https://sistemas.cepreuna.edu.pe/api/curso-taller/inscripciones",{headers:{Authorization:"cepreuna_v1_api"}})).data.listado.reduce((e,o)=>{const c=o.created_at.split(" ")[0];return e[c]=(e[c]||0)+1,e},{}),l=[["Fecha","Inscritos"]];Object.entries(r).forEach(([e,o])=>{l.push([e,o])}),i.value.dataset.source=l}catch(a){console.error("Error al obtener inscritos:",a)}},h=async()=>{try{const p=(await f.get("https://sistemas.cepreuna.edu.pe/api/curso-taller/pagos",{headers:{Authorization:"cepreuna_v1_api"}})).data.listado;console.log(p);const r=p.reduce((e,o)=>{const c=o.fch_pag;return e[c]=(e[c]||0)+1,e},{}),l=[["Fecha","Pagos"]];Object.entries(r).forEach(([e,o])=>{l.push([e,o])}),s.value.dataset.source=l}catch(a){console.error("Error al obtener pagos:",a)}};return q(()=>{u(),h()}),{LineChart:i,LineChart2:s}}}),S={class:"row q-col-gutter-sm q-py-sm"},z={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},A={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"};function B(i,s,u,h,a,p){const r=w("ECharts");return L(),v("div",S,[g("div",z,[t(m,{class:"q-ma-xs no-shadow",bordered:"",style:{"background-color":"#1e88e5"}},{default:n(()=>[t(d,{class:"text-h6 text-white"},{default:n(()=>s[0]||(s[0]=[y(" Cantidad de Inscritos por día ")])),_:1}),t(d,{class:"q-pa-none"},{default:n(()=>[t(r,{option:i.LineChart,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"250px"}},null,8,["option"])]),_:1})]),_:1})]),g("div",A,[t(m,{class:"q-ma-xs no-shadow",bordered:"",style:{"background-color":"#38b1c5"}},{default:n(()=>[t(d,{class:"text-h6 text-white"},{default:n(()=>s[1]||(s[1]=[y(" Cantidad de Pagos por día ")])),_:1}),t(d,{class:"q-pa-none"},{default:n(()=>[t(r,{option:i.LineChart2,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"250px"}},null,8,["option"])]),_:1})]),_:1})])])}const j=b(E,[["render",B]]);export{j as default};
