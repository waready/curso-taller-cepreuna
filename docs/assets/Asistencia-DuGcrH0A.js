import{c as f,aC as g,aD as v,a as _,h as C,b as h,_ as A,C as Q,D as b,E as w,F as n,r as c,z as y,y as d,H as t,aE as k,L as p,aF as x,M as I}from"./index-D3Pq5OX6.js";import{a as $,Q as u}from"./QCard-BMyNaZeq.js";import{Q as q}from"./QInput-fHitKPBD.js";import{Q as B}from"./QPage-Cwufg0Sh.js";import{a as V,b as z}from"./QLayout-jZGhuyLR.js";import{a as N}from"./index-DW_MHI2K.js";import{u as D}from"./use-quasar-DR9W6PfO.js";import"./use-dark-DnCt0c9h.js";import"./scroll-DkVlh74h.js";const E=f({name:"QCardActions",props:{...g,vertical:Boolean},setup(e,{slots:a}){const r=v(e),o=_(()=>`q-card__actions ${r.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>C("div",{class:o.value},h(a.default))}}),K=Q({name:"LockScreen",setup(){const e=c(""),a=c(null),r=c(!1),o=D();y(()=>{d(()=>{a.value&&a.value.focus()})});const i=(s,l="negative")=>{o.notify({position:"top-right",message:s,color:l,icon:l==="positive"?"check_circle":l==="warning"?"warning":"report_problem",timeout:5e3,actions:[{label:"Cerrar",color:"white"}]})};return{dni:e,dniInput:a,loading:r,registrarAsistencia:async()=>{if(!e.value){i("Ingrese un número de documento.","negative");return}r.value=!0;try{const s=await N.post("https://sistemas.cepreuna.edu.pe/api/curso-taller/asistencia",{dni:e.value},{headers:{Authorization:"cepreuna_v1_api"}});s.data.message.includes("ya registró su asistencia")?i(s.data.message,"warning"):s.data.message.includes("Asistencia registrada correctamente")?i(s.data.message,"positive"):i(s.data.message,"negative")}catch(s){i(s.response?.data?.message||"Error al registrar asistencia.","negative")}finally{r.value=!1,d(()=>a.value.focus())}}}}});function L(e,a,r,o,i,m){return w(),b(V,{class:"background-gradient"},{default:n(()=>[t(z,null,{default:n(()=>[t(B,{class:"flex flex-center"},{default:n(()=>[t($,{class:"login-form"},{default:n(()=>[t(u,{class:"avatar-section"},{default:n(()=>[t(k,{size:"80px",class:"shadow-10"},{default:n(()=>a[1]||(a[1]=[p("img",{src:"https://next-quasar-admin.netlify.app/profile.svg"},null,-1)])),_:1})]),_:1}),t(u,{class:"q-mt-md text-center"},{default:n(()=>a[2]||(a[2]=[p("div",{class:"text-h5 text-bold text-white"},"Control de Asistencia",-1)])),_:1}),t(u,{class:"input-section"},{default:n(()=>[t(q,{modelValue:e.dni,"onUpdate:modelValue":a[0]||(a[0]=s=>e.dni=s),type:"number",ref:"dniInput",dense:"",class:"custom-input",placeholder:"Ingrese su DNI",disable:e.loading,onKeyup:x(e.registrarAsistencia,["enter"])},null,8,["modelValue","disable","onKeyup"])]),_:1}),t(E,{align:"center"},{default:n(()=>[t(I,{push:"",label:"Registrar Asistencia",class:"btn-unlock",color:"primary",loading:e.loading,onClick:e.registrarAsistencia},null,8,["loading","onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const G=A(K,[["render",L],["__scopeId","data-v-24277668"]]);export{G as default};
