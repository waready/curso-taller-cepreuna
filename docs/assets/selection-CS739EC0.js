import{g as A,w as b,ag as H,z as R,y,au as S}from"./index-C9P37lrE.js";const U={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},x=["beforeShow","show","beforeHide","hide"];function P({showing:o,canShow:n,hideOnRouteChange:r,handleShow:s,handleHide:d,processOnMount:M}){const f=A(),{props:l,emit:t,proxy:c}=f;let u;function w(e){o.value===!0?i(e):m(e)}function m(e){if(l.disable===!0||e!==void 0&&e.qAnchorHandled===!0||n!==void 0&&n(e)!==!0)return;const a=l["onUpdate:modelValue"]!==void 0;a===!0&&(t("update:modelValue",!0),u=e,y(()=>{u===e&&(u=void 0)})),(l.modelValue===null||a===!1)&&p(e)}function p(e){o.value!==!0&&(o.value=!0,t("beforeShow",e),s!==void 0?s(e):t("show",e))}function i(e){if(l.disable===!0)return;const a=l["onUpdate:modelValue"]!==void 0;a===!0&&(t("update:modelValue",!1),u=e,y(()=>{u===e&&(u=void 0)})),(l.modelValue===null||a===!1)&&g(e)}function g(e){o.value!==!1&&(o.value=!1,t("beforeHide",e),d!==void 0?d(e):t("hide",e))}function v(e){l.disable===!0&&e===!0?l["onUpdate:modelValue"]!==void 0&&t("update:modelValue",!1):e===!0!==o.value&&(e===!0?p:g)(u)}b(()=>l.modelValue,v),r!==void 0&&H(f)===!0&&b(()=>c.$route.fullPath,()=>{r.value===!0&&o.value===!0&&i()}),M===!0&&R(()=>{v(l.modelValue)});const V={show:m,hide:i,toggle:w};return Object.assign(c,V),V}function h(){if(window.getSelection!==void 0){const o=window.getSelection();o.empty!==void 0?o.empty():o.removeAllRanges!==void 0&&(o.removeAllRanges(),S.is.mobile!==!0&&o.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}export{U as a,P as b,h as c,x as u};
