import{Q as p,a as f}from"./QCard-CEUsVJtp.js";import{H as b}from"./IndexPage-By0bwyEo.js";import{a as g}from"./index-DW_MHI2K.js";import{_ as w,C,K as v,N as E,E as L,L as y,H as e,F as i,I as _,r as x,z as q}from"./index-C9P37lrE.js";import"./use-dark-BVNqGgdl.js";import"./QPage-CohLEn6G.js";import"./QTooltip-BLy6251E.js";import"./position-engine-D_7BIw2o.js";import"./selection-CS739EC0.js";import"./scroll-BQ8fV502.js";import"./use-timeout-s6SgTZSQ.js";const z=C({name:"CardCharts",components:{ECharts:b},setup(){const l=x({tooltip:{show:!0,trigger:"axis"},title:{show:!0,textStyle:{color:"rgba(0, 0, 0 , .87)",fontFamily:"sans-serif"}},grid:{containLabel:!0,left:"0",bottom:"0",right:"0"},xAxis:{show:!1,type:"category",boundaryGap:!1},yAxis:{show:!1,type:"value",splitLine:{lineStyle:{type:"dashed"}}},series:[{type:"line",areaStyle:{},smooth:!0}],dataset:{source:[]},color:["#2196f3"]}),s=x({tooltip:{show:!0,trigger:"axis"},title:{show:!0,textStyle:{color:"rgba(0, 0, 0 , .87)",fontFamily:"sans-serif"}},grid:{containLabel:!0,left:"0",bottom:"0",right:"0"},xAxis:{show:!1,type:"category",boundaryGap:!1},yAxis:{show:!1,type:"value",splitLine:{lineStyle:{type:"dashed"}}},series:[{type:"line",areaStyle:{},smooth:!1}],dataset:{source:[]},color:["#45c2c5"]}),d=async()=>{try{const r=(await g.get("https://sistemas.cepreuna.edu.pe/api/curso-taller/inscripciones",{headers:{Authorization:"cepreuna_v1_api"}})).data.listado.reduce((o,t)=>{const n=t.created_at.split(" ")[0];return o[n]=(o[n]||0)+1,o},{}),c=[["Fecha","Inscritos"]];Object.entries(r).forEach(([o,t])=>{c.push([o,t])}),l.value.dataset.source=c}catch(a){console.error("Error al obtener inscritos:",a)}},u=async()=>{try{const r=(await g.get("https://sistemas.cepreuna.edu.pe/api/curso-taller/pagos",{headers:{Authorization:"cepreuna_v1_api"}})).data.listado.reduce((t,n)=>{const m=n.fch_pag;return t[m]=(t[m]||0)+1,t},{}),c=Object.entries(r).sort(([t],[n])=>new Date(t)-new Date(n)),o=[["Fecha","Pagos"],...c];s.value.dataset.source=o}catch(a){console.error("Error al obtener pagos:",a)}};return q(()=>{d(),u()}),{LineChart:l,LineChart2:s}}}),S={class:"row q-col-gutter-sm q-py-sm"},A={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},B={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"};function F(l,s,d,u,a,h){const r=v("ECharts");return L(),E("div",S,[y("div",A,[e(f,{class:"q-ma-xs no-shadow",bordered:"",style:{"background-color":"#1e88e5"}},{default:i(()=>[e(p,{class:"text-h6 text-white"},{default:i(()=>s[0]||(s[0]=[_(" Cantidad de Inscritos por día ")])),_:1}),e(p,{class:"q-pa-none"},{default:i(()=>[e(r,{option:l.LineChart,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"250px"}},null,8,["option"])]),_:1})]),_:1})]),y("div",B,[e(f,{class:"q-ma-xs no-shadow",bordered:"",style:{"background-color":"#38b1c5"}},{default:i(()=>[e(p,{class:"text-h6 text-white"},{default:i(()=>s[1]||(s[1]=[_(" Cantidad de Pagos por día ")])),_:1}),e(p,{class:"q-pa-none"},{default:i(()=>[e(r,{option:l.LineChart2,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"250px"}},null,8,["option"])]),_:1})]),_:1})])])}const O=w(z,[["render",F]]);export{O as default};
